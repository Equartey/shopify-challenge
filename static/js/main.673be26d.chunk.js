(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(t,e,n){t.exports=n(31)},23:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(9),o=n.n(i),c=(n(23),n(3)),u=n(4),s=n(6),l=n(5),f=n(7),d=n(1),v=n(2);function h(){var t=Object(d.a)(["\n  width: 100%;\n"]);return h=function(){return t},t}function p(){var t=Object(d.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  padding: 15px;\n  width: 100%;\n"]);return p=function(){return t},t}function m(){var t=Object(d.a)(["\n  border: 1px solid #888;\n  flex: 1 1 auto;\n  font-size: 2em;\n  padding-left: 0.5em;\n  width: calc(100% - 65px);\n  \n  :focus {\n    border: 1px solid #4a9363;\n    outline: #4a9363 auto 5px;\n  }\n"]);return m=function(){return t},t}function b(){var t=Object(d.a)(["\n  background: linear-gradient(to right, #2e598f, #43866c);\n  color: #fff;\n  font-size: 3em;\n  margin: 0;\n  padding: 1em 0;\n  text-align: center;\n"]);return b=function(){return t},t}function g(){var t=Object(d.a)(["\n  background-color: #4a9363;\n  border: 0;\n  box-shadow: 0;\n  cursor: pointer;\n  fill: #fff;\n  margin-left: 15px;\n  padding: 2px;\n  width: 50px;\n  transform: scaleX(-1);\n\n  :hover {\n    opacity: 0.9;\n  }\n  :focus {\n    outline: #4a9363 auto 5px;\n  }\n"]);return g=function(){return t},t}var y=v.a.button(g()),O=v.a.h1(b()),j=v.a.input(m()),w=v.a.div(p()),x=v.a.section(h()),E=function(t){function e(){var t,n;Object(c.a)(this,e);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).handleKeyPress=function(t){"Enter"===t.key&&n.props.runQuery()},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return r.a.createElement(x,null,r.a.createElement(O,null,"Toronto Waste Lookup"),r.a.createElement(w,null,r.a.createElement(j,{onChange:this.props.updateQuery,onKeyPress:this.handleKeyPress}),r.a.createElement(y,{onClick:this.props.runQuery},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M443.5 420.2L336.7 312.4c20.9-26.2 33.5-59.4 33.5-95.5 0-84.5-68.5-153-153.1-153S64 132.5 64 217s68.5 153 153.1 153c36.6 0 70.1-12.8 96.5-34.2l106.1 107.1c3.2 3.4 7.6 5.1 11.9 5.1 4.1 0 8.2-1.5 11.3-4.5 6.6-6.3 6.8-16.7.6-23.3zm-226.4-83.1c-32.1 0-62.3-12.5-85-35.2-22.7-22.7-35.2-52.9-35.2-84.9 0-32.1 12.5-62.3 35.2-84.9 22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2c22.7 22.7 35.2 52.9 35.2 84.9 0 32.1-12.5 62.3-35.2 84.9-22.7 22.7-52.9 35.2-85 35.2z"})))))}}]),e}(r.a.PureComponent),k=n(8);function L(){var t=Object(d.a)(["\n  cursor: pointer;\n  fill: ","\n  height: 20px;\n  margin-right: 10px;\n  width: 20px;\n\n  :hover {\n    fill: #4a9363;\n  }\n"]);return L=function(){return t},t}function D(){var t=Object(d.a)(["\n  display: flex;\n  flex-wrap: nowrap;\n  margin: 25px 0;\n  padding: 0 15px;\n\n  :first-of-type {\n    margin-top: 0;\n  }\n\n  ul {\n    margin: 0;\n    padding-left: 20px;\n  }\n\n  li {\n    margin-bottom: 10px;\n  }\n"]);return D=function(){return t},t}function C(){var t=Object(d.a)(["\n  flex: 1 1 50%;\n"]);return C=function(){return t},t}function F(){var t=Object(d.a)(["\n  flex: 1 1 50%;\n"]);return F=function(){return t},t}var Q=v.a.div(F()),S=v.a.div(C()),z=v.a.div(D()),R=v.a.div(L(),function(t){return t.favorites?"#4a9363":"#aaa"}),_=function(t){function e(){return Object(c.a)(this,e),Object(s.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(u.a)(e,[{key:"HtmlDecode",value:function(t){var e=document.createElement("div");return e.innerHTML=t,0===e.childNodes.length?"":e.childNodes[0].nodeValue}},{key:"render",value:function(){var t=this;return this.props.results.map(function(e){e.count&&(e=e.result);var n=t.props.favorites.find(function(t){return t.result.body===e.body&&t.result.title===e.title?t.count>1:null});if(!t.props.isFavoriteList||void 0!==n)return r.a.createElement(z,{id:e.id,key:"".concat(e.title).concat(e.body)},r.a.createElement(R,{favorites:void 0!==n,onClick:function(){return t.props.FavoriteResult(t,e,t.props.isFavoriteList)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M463 192H315.9L271.2 58.6C269 52.1 262.9 48 256 48s-13 4.1-15.2 10.6L196.1 192H48c-8.8 0-16 7.2-16 16 0 .9.1 1.9.3 2.7.2 3.5 1.8 7.4 6.7 11.3l120.9 85.2-46.4 134.9c-2.3 6.5 0 13.8 5.5 18 2.9 2.1 5.6 3.9 9 3.9 3.3 0 7.2-1.7 10-3.6l118-84.1 118 84.1c2.8 2 6.7 3.6 10 3.6 3.4 0 6.1-1.7 8.9-3.9 5.6-4.2 7.8-11.4 5.5-18L352 307.2l119.9-86 2.9-2.5c2.6-2.8 5.2-6.6 5.2-10.7 0-8.8-8.2-16-17-16z"}))),r.a.createElement(S,null,e.title),r.a.createElement(Q,{dangerouslySetInnerHTML:{__html:t.HtmlDecode(e.body)}}))})}}]),e}(a.PureComponent);function H(){var t=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: calc(100% - 15em);\n"]);return H=function(){return t},t}function P(){var t=Object(d.a)(["\n  padding-top: 5px;\n"]);return P=function(){return t},t}function M(){var t=Object(d.a)(["\n  background: #f8fefa;\n  margin-top: auto;\n  min-height: 200px;\n  padding: 1em 15px;\n  h3 {\n    color: #4a9363;\n    font-size: 2em;\n    margin: 0;\n    margin-bottom: 15px;\n    padding: 0 15px;\n  }\n"]);return M=function(){return t},t}var q=v.a.div(M()),B=v.a.div(P()),K=v.a.section(H()),T=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(s.a)(this,Object(l.a)(e).call(this,t))).state={favorites:[]},n}return Object(f.a)(e,t),Object(u.a)(e,[{key:"FavoriteResult",value:function(t,e,n){var a=this.state.favorites.find(function(t){return t.result.body===e.body&&t.result.title===e.title});if(a&&n){var r=Object(k.a)(this.state.favorites),i=r.indexOf(a);r.splice(i,1),this.setState({favorites:Object(k.a)(r)})}else if(a&&a.count>=1){var o=Object(k.a)(this.state.favorites),c=Object.assign({},a,{count:a.count+1}),u=o.indexOf(a),s=[].concat(Object(k.a)(o.slice(0,u)),[c],Object(k.a)(o.slice(u+1)));this.setState({favorites:Object(k.a)(s)})}else if(!a){var l={count:1,result:e};this.setState({favorites:[].concat(Object(k.a)(this.state.favorites),[l])})}}},{key:"render",value:function(){var t=this.state.favorites.find(function(t){return t.count>1});return r.a.createElement(K,null,r.a.createElement(B,null,r.a.createElement(_,{favorites:this.state.favorites,FavoriteResult:this.FavoriteResult.bind(this),results:this.props.resultData})),r.a.createElement(q,null,r.a.createElement("h3",null,"Favorites"),t&&r.a.createElement(_,{favorites:this.state.favorites,FavoriteResult:this.FavoriteResult.bind(this),results:this.state.favorites,isFavoriteList:!0})))}}]),e}(a.Component);function W(){var t=Object(d.a)(["\n  height: 100%;\n  width: 100%;\n"]);return W=function(){return t},t}var A=v.a.section(W()),I=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(s.a)(this,Object(l.a)(e).call(this))).state={query:"",resultData:[],data:[]},t}return Object(f.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var t=this;fetch("".concat("https://secure.toronto.ca/cc_sr_v1/data/swm_waste_wizard_APR").concat("?limit=1000")).then(function(t){return t.json()}).then(function(e){return t.setState({data:e})}).catch(function(t){return console.error(t)})}},{key:"runQuery",value:function(){var t=this;if(""!==this.state.query){var e=this.state.data.filter(function(e){return e.keywords.toLowerCase().includes(t.state.query.toLowerCase())});this.setState({resultData:e})}}},{key:"updateQuery",value:function(t){this.setState({query:t.target.value}),""===t.target.value&&this.setState({resultData:[]})}},{key:"render",value:function(){return r.a.createElement(A,null,r.a.createElement(E,{runQuery:this.runQuery.bind(this),updateQuery:this.updateQuery.bind(this)}),r.a.createElement(T,{resultData:this.state.resultData}))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.673be26d.chunk.js.map